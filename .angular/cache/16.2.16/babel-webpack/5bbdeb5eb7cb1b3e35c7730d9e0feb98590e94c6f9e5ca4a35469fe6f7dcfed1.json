{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LibraryComponent = class LibraryComponent {\n  constructor(bookSvc) {\n    this.bookSvc = bookSvc;\n    this.books = [];\n    this.titleFilter = '';\n    this.priceFilter = null;\n    this.authorFilter = '';\n  }\n  ngOnInit() {\n    this.fetchBooks();\n  }\n  // Called on every filter change for live filtering\n  onFilterChange(title, author, price) {\n    this.titleFilter = title;\n    this.authorFilter = author;\n    this.priceFilter = price !== null && price !== undefined && price !== 0 ? Number(price) : null;\n    this.fetchBooks();\n  }\n  // Called on form submit (Search button)\n  onSearch() {\n    this.fetchBooks();\n  }\n  fetchBooks() {\n    this.bookSvc.getBooks(1, 10, this.titleFilter, this.priceFilter !== null ? this.priceFilter : undefined, this.authorFilter).subscribe({\n      next: books => {\n        this.books = books;\n      },\n      error: err => {\n        console.error('Book API error:', err);\n        this.books = [];\n      }\n    });\n  }\n  getBookList() {\n    return this.books || [];\n  }\n};\nLibraryComponent = __decorate([Component({\n  selector: 'app-library',\n  templateUrl: './library.component.html',\n  styleUrls: ['./library.component.css']\n})], LibraryComponent);\nexport { LibraryComponent };","map":{"version":3,"names":["Component","LibraryComponent","constructor","bookSvc","books","titleFilter","priceFilter","authorFilter","ngOnInit","fetchBooks","onFilterChange","title","author","price","undefined","Number","onSearch","getBooks","subscribe","next","error","err","console","getBookList","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\DEV\\BookStoreAPI-UI\\src\\app\\library\\library.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Ibook } from './book.model';\nimport { BookService } from './book.service';\n\n@Component({\n  selector: 'app-library',\n  templateUrl: './library.component.html',\n  styleUrls: ['./library.component.css']\n})\nexport class LibraryComponent {\n  books: Ibook[] = [];\n  titleFilter: string = '';\n  priceFilter: number | null = null;\n  authorFilter: string = '';\n\n  constructor(private bookSvc: BookService) {}\n\n  ngOnInit() {\n    this.fetchBooks();\n  }\n\n  // Called on every filter change for live filtering\n  onFilterChange(title: string, author: string, price: number | null) {\n    this.titleFilter = title;\n    this.authorFilter = author;\n    this.priceFilter = price !== null && price !== undefined && price !== 0 ? Number(price) : null;\n    this.fetchBooks();\n  }\n\n  // Called on form submit (Search button)\n  onSearch() {\n    this.fetchBooks();\n  }\n\n  fetchBooks() {\n    this.bookSvc.getBooks(\n      1,\n      10,\n      this.titleFilter,\n      this.priceFilter !== null ? this.priceFilter : undefined,\n      this.authorFilter\n    ).subscribe({\n      next: (books) => { this.books = books; },\n      error: (err) => { \n        console.error('Book API error:', err); \n        this.books = []; \n      }\n    });\n  }\n\n  getBookList() {\n    return this.books || [];\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASzC,IAAaC,gBAAgB,GAA7B,MAAaA,gBAAgB;EAM3BC,YAAoBC,OAAoB;IAApB,KAAAA,OAAO,GAAPA,OAAO;IAL3B,KAAAC,KAAK,GAAY,EAAE;IACnB,KAAAC,WAAW,GAAW,EAAE;IACxB,KAAAC,WAAW,GAAkB,IAAI;IACjC,KAAAC,YAAY,GAAW,EAAE;EAEkB;EAE3CC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEA;EACAC,cAAcA,CAACC,KAAa,EAAEC,MAAc,EAAEC,KAAoB;IAChE,IAAI,CAACR,WAAW,GAAGM,KAAK;IACxB,IAAI,CAACJ,YAAY,GAAGK,MAAM;IAC1B,IAAI,CAACN,WAAW,GAAGO,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,CAAC,GAAGE,MAAM,CAACF,KAAK,CAAC,GAAG,IAAI;IAC9F,IAAI,CAACJ,UAAU,EAAE;EACnB;EAEA;EACAO,QAAQA,CAAA;IACN,IAAI,CAACP,UAAU,EAAE;EACnB;EAEAA,UAAUA,CAAA;IACR,IAAI,CAACN,OAAO,CAACc,QAAQ,CACnB,CAAC,EACD,EAAE,EACF,IAAI,CAACZ,WAAW,EAChB,IAAI,CAACC,WAAW,KAAK,IAAI,GAAG,IAAI,CAACA,WAAW,GAAGQ,SAAS,EACxD,IAAI,CAACP,YAAY,CAClB,CAACW,SAAS,CAAC;MACVC,IAAI,EAAGf,KAAK,IAAI;QAAG,IAAI,CAACA,KAAK,GAAGA,KAAK;MAAE,CAAC;MACxCgB,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEC,GAAG,CAAC;QACrC,IAAI,CAACjB,KAAK,GAAG,EAAE;MACjB;KACD,CAAC;EACJ;EAEAmB,WAAWA,CAAA;IACT,OAAO,IAAI,CAACnB,KAAK,IAAI,EAAE;EACzB;CACD;AA5CYH,gBAAgB,GAAAuB,UAAA,EAL5BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW1B,gBAAgB,CA4C5B;SA5CYA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}